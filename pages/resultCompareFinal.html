<!DOCTYPE html>


<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>结果对比页面</title>

    <!--<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/2.8.1/build/reset/reset-min.css"/>-->
    <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="../fonts/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../css/style.min.css">
    <link rel="stylesheet" type="text/css" href="../css/buttons.css"/>
    <link rel="stylesheet" type="text/css" href="../css/resultFinal.css"/>
    <!--<link href="apply.css" rel="stylesheet" type="text/css" />-->

    <style type="text/css">

        /*html {
            background-color: #ddd;
            font: 62.5%/1 "Lucida Sans Unicode","Lucida Grande",Verdana,Arial,Helvetica,sans-serif;
        }*/
        body {
            padding: 20px 60px;
        }
        .bgimg{
            position: fixed;
            left:0px;
            top:0px;
            margin:auto;
            width:100%;
            height:100%;
            z-index:-1000;
        }
        .cover{
            position: fixed;
            left:0px;
            top:0px;
            z-index: -900;
            opacity: 0.8;
            height: 100%;
            width: 100%;
            background: black;
        }
        #wrapper { text-align: center; }


        /*It appears that the Pictos Font resets the line-height of the icon.. so if you are using them, delete the line below. */
        .icon:before { line-height: .7em; }

    </style>


</head>

<body>
<img src="../images/blackgold1.jpg" alt="" width='100%' height='100%' class="bgimg">
<header class="header fixed clearfix navbar navbar-fixed-top">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="header-left">
                    <div class="logo smooth-scroll">
                        <a href="../indexFinal.html"><img id="logo" src="../images/logo2.png" alt="Worthy"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<div class="container-fluid" style="height: 90%;">
    <div class="row" style="height: 100%">
        <div class="col-md-12" style="height: 100%">
            <div class="row">
                <div class="col-md-12">
                    <h2 class="text-center" style="font-size: 40px;color:#ffc400">
                        结果对比
                    </h2>
                </div>
            </div>

            <div class="row containerRow" style="height: 100%;padding: 20px;background: #fff;overflow-y: auto">
                <div class="col-md-6" style="height:100%;padding: 20px;" >
                    <div>
                        <form class="form-search form-inline">
                            <input type="search" class="form-control" placeholder="输入文章id" id="articleId" style="width: 300px"/>
                            <button style="background: #ffc400;color:#000;" class="btn downloadBtn" type="button" onclick="searchArticle()">搜索
                            </button>
                            <!--<input class="input-medium search-query" type="text" /> <button type="submit" class="btn">查找</button>-->
                        </form>
                    </div>
                    <br>
                    <!--<div style="border: 1px solid lightgrey;min-height: 400px;padding: 5px 5px;">-->
                    <div style="border: 1px solid lightgrey;padding: 10px 20px;height: 90%;overflow-y: auto;">
                        <div id="articleTitle">
                            <h3 class="text-center" id="articleTitleContent">文章标题</h3>
                        </div>
                        <br>
                        <div id="articleCont">
                            <p id="articleContent">
                            <h5 class="notice" style="font-size: 40px">请先搜索文章！</h5>
                            </p>
                        </div>

                    </div>

                </div>
                <div class="col-md-6" style="height:100%;padding: 20px;margin-top: 55px;">
                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                        <!--<div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingOne">
                                <h4 class="panel-title">
                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        问题1：xxxx
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                <div class="panel-body">
                                    <ul class="list-unstyled">
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  标准答案：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍A：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍B：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍C：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍D：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍E：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍F：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍G：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍H：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍I：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>
                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  队伍G：</strong>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>-->
                        <!--<div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingTwo">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        问题2：xxxx
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                <div class="panel-body">
                                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingThree">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        问题3：xxxx
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                <div class="panel-body">
                                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingFour">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                        问题4：xxxx
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                                <div class="panel-body">
                                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingFive">
                                <h4 class="panel-title">
                                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                        问题5：xxxx
                                    </a>
                                </h4>
                            </div>
                            <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                                <div class="panel-body">
                                    Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
                                </div>
                            </div>
                        </div>-->
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!--<div id="wrapper">


</div>-->

<div style="text-align:center;clear:both;">
    <!-- JavaScript -->
    <script src="../js/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="../bootstrap/js/bootstrap.min.js"></script>

    <script src="../js/jquery.cookie.js"></script>
    <script type="text/javascript" src="../js/jquery.base64.js"></script>
    <script src="../js/globalIP.js"></script>

    <script src="../layer/layer.js"></script>

</div>
<script>
    let myTeamId = $.cookie("myTeamId");
    let username = $.cookie("myUsername");
    let password0 = $.cookie("myWPa");
    let password = $.base64.decode(password0);
    let token = username + ':' + password;

    window.onload = function () {
    }

    function searchArticle() {
        let articleId = $("#articleId").val();
        if(articleId.length === 0) {
            alert('请输入文章id！')
            return
        }

        $.ajax({
            type: "GET",
            dataType: "json",
            url: IpAll() + "finals/documents/" + articleId ,
            beforeSend: function (xhr) {
                xhr.setRequestHeader('Authorization', 'Basic ' + btoa(token));
            },
            success: function (result) {
                let str = "";
                let data = result.data;
                let marks = data.markEntities
                console.log(data)
                $('#articleCont .notice').html('')
                document.getElementById("articleContent").innerHTML = data.content;
                document.getElementById("articleTitleContent").innerHTML = data.title;
                $('#accordion').html('')
                for(let i = 0; i < marks.length; i++) {
                    let markHref = '"#' + marks[i].id + '"'
                    let markId = '"' + marks[i].id + '"'
                    $('#accordion').html($('#accordion').html() + '<div class="panel panel-default">\n' +
                        '                            <div class="panel-heading" role="tab" id="headingOne">\n' +
                        '                                <h4 class="panel-title">\n' +
                        '                                    <a role="button" data-toggle="collapse" data-parent="#accordion" href=' + markHref + ' aria-expanded="true" aria-controls="collapseOne">\n' +
                        '                                        问题' + (i+1) + '：' + marks[i].question +
                        '                                    </a>\n' +
                        '                                </h4>\n' +
                        '                            </div>\n' +
                        '                            <div id='+ markId +' class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">\n' +
                        '                                <div class="panel-body">\n' +
                        '                                    <ul class="list-unstyled">\n' +
                        '                                        <li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>  标准答案：</strong>' + marks[i].answer +
                        '                                        </li>\n' +
                        '                                    </ul>\n' +
                        '                                </div>\n' +
                        '                            </div>\n' +
                        '                        </div>')
                    if(marks[i].userMarkEntities && marks[i].userMarkEntities.length > 0) {
                        let usersAnswers = marks[i].userMarkEntities
                        console.log(usersAnswers.length)
                        for(let j = 0; j < usersAnswers.length; j++) {
                            let target = '#accordion ' + '#' + marks[i].id + ' .list-unstyled'
                            $(target).html($(target).html() + '<li><i class="fa fa-arrow-circle-right pr-10 colored"></i><strong>' + usersAnswers[j].teamName + ':' + '</strong>\n' + usersAnswers[j].answer +
                                '</li>')
                        }
                    }
                }

            },
            error : function(error) {
                let notifyMessage = error.responseJSON.message
                alert(notifyMessage)
            }
        });
    }
</script>

</body>

</html>

